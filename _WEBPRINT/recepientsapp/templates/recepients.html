{% extends 'base_template.html' %}
{% load static %}
{%block head%}
<link rel="stylesheet" type="text/css" href={% static "recepients/css/jquery.dataTables.min.css"%}>
{%endblock%}

{%block navimenu%}
<li><a href="">Адресная книга</a></li>
<li class="active">Все адресаты</li>
{%endblock%}

{%block header%}
<h2 style="margin-left: 20px;">Адресаты</h2>
{%endblock%}

{%block body%}
<div class = "col-md-12">
    <table id="example" class="display" style="width:100;">

            <thead>
                <tr>
                    <th>-</th>
                    <th>ФИО (название организации)</th>
                    <th>Адрес</th>
                    <th>Регион</th>
                    <th>Город</th>
                    <th>Индекс</th>
                    <th>Дата создания</th>
                </tr>
            </thead>
            <tbody>
                  {% for recepient in recepients_list %}
                <tr>
                    <td>{{ recepient.pk }}</td>
                    <td><a href="recepient/{{ recepient.pk }}/">{{ recepient.title }} </a></td>
                    <td>{{ recepient.address }}</td>
                    <td>{{ recepient.region }}</td>
                    <td>{{ recepient.city }}</td>
                    <td>{{ recepient.postcode }}</td>
                    <td>{{ recepient.pub_date }}</td>
                  </tr>


                  {% endfor %}
            </tbody>
        </table>
</div>
{%endblock%}

{%block scripts%}
<script src={% static "recepients/jquery-3.2.1.min.js" %}></script>
<script type="text/javascript" language="javascript" src={% static "recepients/js/jquery.dataTables.min.js"%} ></script>
<script>
$(document).ready(function() {
    $('#example').DataTable({
    language: {
      processing:     "Traitement en cours...",
      search:         "Фильтр",
      lengthMenu:    "Показать _MENU_ элементов",
      info:           "Показано _START_ из _END_ из _TOTAL_ элементов",
      infoEmpty:      "Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",
      infoFiltered:   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
      infoPostFix:    "",
      loadingRecords: "Chargement en cours...",
      zeroRecords:    "Aucun &eacute;l&eacute;ment &agrave; afficher",
      emptyTable:     "Aucune donnée disponible dans le tableau",
      paginate: {
            first:      "Первый",
            previous:   "Предыдущий",
            next:       "Следующий",
            last:       "Последний"
        },
    }
});
} );
</script>
{%endblock%}
